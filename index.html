<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Logical</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- What p5.js shows while running preload() -->
  <div id="p5_loading" class="center">
    <div class="loader"></div>
    <!--
      <div class="container">
        <p>Loading...</p>
      </div>
      -->
  </div>
  <main oncontextmenu="return false;">
    <!-- Where p5.js will add the canvas -->
  </main>
  <!-- The menu dialog -->
  <dialog id="dialog_menu">
    <form method="dialog">
      <button value="cancel" class="mainmenubutton">Close</button>
      <br>
      <button value="import" class="mainmenubutton">Import</button>
      <br>
      <button value="export" class="mainmenubutton">Export</button>
    </form>
  </dialog>
  <!-- The import dialog -->
  <dialog id="dialog_import">
    <form method="dialog">
      <label for="code">Import code:</label>
      <br>
      <textarea type="text" id="input_code" name="code" 
                autocomplete="off" autocorrect="off" spellcheck="false"
                class="quarterscreentextarea"></textarea>
      <br>
      <button value="import">Import</button>
      <button type="button" id="copy_import_button">Read from clipboard</button>
      <button value="cancel">Cancel</button>
    </form>
  </dialog>
  <!-- The export dialog -->
  <dialog id="dialog_export">
    <form method="dialog">
      <label for="code">Export code:</label>
      <a>(Don't forget to scroll to see the rest of the code!)</a>
      <br>
      <textarea type="text" id="output_code" name="code" 
                autocomplete="off" autocorrect="off" spellcheck="false" 
                readonly="true" class="quarterscreentextarea"></textarea>
      <br>
      <button type="button" id="copy_export_button">Copy all to clipboard</button>
      <button value="cancel">Close</button>
    </form>
  </dialog>
  <!-- The clock period dialog -->
  <dialog id="dialog_clock_period">
    <form method="dialog">
      <label for="code">Set clock period:</label>
      <br>
      <input type="number" id="clock_period_code" name="code" min=1 
             autocomplete="off" autocorrect="off" spellcheck="false"></textarea>
      <br>
      <button value="submit">Submit</button>
      <button value="cancel">Cancel</button>
    </form>
  </dialog>
  <!-- The note dialog -->
  <dialog id="dialog_note">
    <form method="dialog">
      <label for="code">Your note:</label>
      <br>
      <textarea type="text" id="note_code" name="code" 
                autocomplete="on" autocorrect="on" spellcheck="true"
                class="quarterscreentextarea"></textarea>
      <br>
      <button value="submit">Submit</button>
      <button value="cancel">Cancel</button>
    </form>
  </dialog>
  <!-- Screw the enter key ->
  <script>
  window.addEventListener('keydown',function(e){if(e.keyIdentifier=='U+000A'||e.keyIdentifier=='Enter'||e.keyCode==13){if(e.target.nodeName=='INPUT'&&e.target.type=='text'){e.preventDefault();return false;}}},true);
  </script>
  -->
  <!-- Libraries -->
  <script src="/js/libs/p5.min.js" defer></script>
  <script src="/js/libs/p5.sound.min.js" defer></script>
  <script src="/js/libs/p5.collide2d.min.js" defer></script>
  <script src="/js/libs/p5.clickable.min.js" defer></script>
  <!-- Utilities -->
  <script src="/js/util/trig.js" defer></script>
  <script src="/js/util/text_utils.js" defer></script>
  <script src="/js/util/ui.js" defer></script>
  <script src="/js/util/compress.js" defer></script>
  <script src="/js/util/clipboard.js" defer></script>
  <!-- Game files -->
  <script src="/js/game/components/component.js" defer></script>
  <script src="/js/game/components/connection.js" defer></script>
  <script src="/js/game/components/io/switch.js" defer></script>
  <script src="/js/game/components/io/button.js" defer></script>
  <script src="/js/game/components/io/clock.js" defer></script>
  <script src="/js/game/components/io/constant.js" defer></script>
  <script src="/js/game/components/io/light.js" defer></script>
  <script src="/js/game/components/io/note.js" defer></script>
  <script src="/js/game/components/io/4bit_digit.js" defer></script>
  <script src="/js/game/components/io/8bit_digit.js" defer></script>
  <script src="/js/game/components/gates/gate.js" defer></script>
  <script src="/js/game/components/gates/buffer_gate.js" defer></script>
  <script src="/js/game/components/gates/not_gate.js" defer></script>
  <script src="/js/game/components/gates/and_gate.js" defer></script>
  <script src="/js/game/components/gates/nand_gate.js" defer></script>
  <script src="/js/game/components/gates/or_gate.js" defer></script>
  <script src="/js/game/components/gates/nor_gate.js" defer></script>
  <script src="/js/game/components/gates/xor_gate.js" defer></script>
  <script src="/js/game/components/gates/xnor_gate.js" defer></script>
  <script src="/js/game/sounds.js" defer></script>
  <script src="/js/game/icons.js" defer></script>
  <script src="/js/game/export.js" defer></script>
  <script src="/js/game/example_saves.js" defer></script>
  <script src="/js/game/game.js" defer></script>
  <!-- Main script -->
  <script src="/js/main.js" defer></script>
  <!-- Shows a console on the web page itself, for easier debugging on restricted computers -->
  <script src="/js/util/on_page_console.js" defer></script>
</body>

</html>